function empty(a,b){return!1}function chessboard(a,b){return 0==(a+b)%2}function one(a,b){return 0==a}function randomCells(a,b){return 0.7<Math.random()}function glider(a,b){return 0==b&&1==a||1==b&&2==a||2==b&&3>a?!0:!1}function newMatrix(a,b,c){var d=[];for(y=0;y<b;y++)for(d[y]=[],x=0;x<a;x++)d[y][x]=c(x,y);return d}
function ca(a,b){var c=newMatrix(width,height,empty);for(y=0;y<height;y++)for(x=0;x<width;x++)c[y][x]=b(a,x,y),a[y][x]!=c[y][x]&&(mn[y][x].className="black"==mn[y][x].className?"":"black");return c}function cellIsActive(a,b,c){return 0<=c&&c<height&&0<=b&&b<width?a[c][b]:!1}
function gol(a,b,c){var d=0;cellIsActive(a,b-1,c-1)&&d++;cellIsActive(a,b,c-1)&&d++;cellIsActive(a,b+1,c-1)&&d++;cellIsActive(a,b-1,c)&&d++;cellIsActive(a,b+1,c)&&d++;cellIsActive(a,b-1,c+1)&&d++;cellIsActive(a,b,c+1)&&d++;cellIsActive(a,b+1,c+1)&&d++;return!a[c][b]&&3==d||a[c][b]&&(2==d||3==d)?!0:!1}function implant(a,b,c,d,e){for(j=0;j<d;j++)if(0<=b+j&&b+j<height)for(i=0;i<c;i++)0<=a+i&&a+i<width&&e(i,j)&&(m[b+j][a+i]=!0,mn[b+j][a+i].className="black")}
function onClickFunction(a,b,c,d,e){return function(){implant(a,b,c,d,e)}}function drawMatrix(a,b){var c=document.getElementById(a);for(y=0;y<height;y++){var d=document.createElement("div");mn[y]=[];for(x=0;x<width;x++)mn[y][x]=document.createElement("div"),b[y][x]&&(mn[y][x].className="black"),mn[y][x].onclick=onClickFunction(x,y,10,10,glider),d.appendChild(mn[y][x]);c.appendChild(d)}}var m=!1,mn=[],width=0,height=0,t=!1;
function step(a,b){m?m=ca(m,b):(document.width?(width=Math.floor(document.width/24),height=Math.floor(document.height/24)):(width=Math.floor(document.documentElement.offsetWidth/24),height=Math.floor(document.documentElement.offsetHeight/24)),m=newMatrix(width,height,randomCells),drawMatrix(a,m));t=setTimeout(function(){step(a,b)},250)}function init(){step("ca",gol);window.onresize=function(){t&&clearTimeout(t);m=!1;mn=[];document.getElementById("ca").innerHTML="";step("ca",gol)}};